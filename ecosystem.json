//http://pm2.keymetrics.io/docs/usage/deployment/
{
  // Applications part
  "apps": [
    {
      "name": "pm2-zidong-bushu",
      "script": "server.js",
      //"instances": "2",
      //启动环境变量
      "env": {
        "COMMON_VARIABLE": "true"
      },
      // Environment variables injected when starting with --env production
      // http://pm2.keymetrics.io/docs/usage/application-declaration/#switching-to-different-environments
      "env_production": {
        "NODE_ENV": "production"
      }
    }
  ],
  // Deployment part
  // Here you describe each environment
  "deploy": {
    "production": {
      "user": "root",
      "port":39999,
      "host": [
        "60.205.219.20"
      ],
      "ref": "origin/master",
      // Git 克隆地址
      "repo": "git@github.com:XiomgMingCai/pm2-zidong-bushu.git",
      //服务器对应位置
      "path": "/root",
      "ssh_options": "StrictHostKeyChecking=no",
      //      "post-deploy" : "npm install && pm2 startOrRestart ecosystem.json --env production",
      "pre-deploy-local": "echo 'This is a local executed command'",
      //      "pre-setup" : "apt-get install git",
      //      "post-setup": "ls -la",
      "env": {
        "NODE_ENV": "production"
      }
    }
  }
}
